<div style="margin-bottom:0px;" class="cmd noRefresh col-xs-12" data-type="info" data-subtype="string" data-cmd_id="#activityid#" data-logical_id="#logicalId#">
  <div class="carousel slide" data-ride="carousel" data-interval="false" id="quote-carousel#activityid#">
    <!-- Bottom Carousel Indicators -->
    <ol style="bottom:-5px;" class="carousel-indicators">
    </ol>
    <!-- Carousel Slides / Quotes -->
    <div style="padding-bottom:15px;" class="carousel-inner">
      <div style="min-height:50px;" class="item active col-xs-10 col-xs-offset-1">
        <p style="margin:5px 0 5px 0;font-size: 13px;"><strong>#name_display#</strong> #activitytime#</p>
        <p style="line-height:1;font-size: 13px;" class="text-center">#activitycontent#</p>
      </div>
      <!-- Carousel Buttons Next/Prev -->
      <a data-slide="prev" href="#quote-carousel#activityid#" class="left carousel-control">
        <i style="margin:20px 0 0 4px;font-size: 1.2em;" class="fas fa-chevron-left pull-left"></i>
      </a>
      <a data-slide="next" href="#quote-carousel#activityid#" class="right carousel-control">
        <i style="margin:20px 4px 0 0;font-size: 1.2em;" class="fas fa-chevron-right pull-right"></i>
      </a>
    </div>
  </div>
<script>
  var cmd = $('#quote-carousel#activityid#');
  var activityList = "#activitylist#";
  if (activityList == '') {
    cmd.find('[class*="fa-chevron-"], .carousel-indicators').hide();
    cmd.find('.carousel-inner').css('padding-bottom', 0);
  } else {
    cmd.find('.carousel-inner > div').remove();
    var options = activityList.split(/[;|]+/);
    for (var i = 0; i < options.length; i++) {
      options.splice(i + 1, 1);
    }
  //  options.pop();
    for (var i = 0; i < options.length; i++) {
      var values =  options[i].split(' : ');
      var html = '';
      html += '<div style="min-height:50px;" class="item col-xs-10 col-xs-offset-1">';
      html += '<p style="margin:5px 0 5px 0;font-size: 13px;"><strong>#name_display#</strong> '+values[0]+'</p>';
      html += '<p style="line-height:1;font-size: 13px;" class="text-center">'+values[1]+'</p>';
      html += '</div>';
      cmd.find('.carousel-inner').append(html);
      cmd.find('.carousel-indicators').append('<li class="btn" data-target="#quote-carousel#activityid#" data-slide-to="'+(i)+'">'+values[0].replace('Ã  ','')+'</li>');
    }
    cmd.find('[class*="fa-chevron-"], .carousel-indicators').show();
    cmd.find('.carousel-indicators > li:last-child').addClass('active');
    cmd.find('.carousel-inner > div:last-child').addClass('active');

      window.heights = [], //create empty array to store height values
      window.tallest; //create variable to make note of the tallest slide
      function normalizeHeights() {
          jQuery('#quote-carousel#activityid# .item').each(function() { //add heights to array
              window.heights.push(jQuery(this).outerHeight());
          });
          window.tallest = Math.max.apply(null, window.heights); //cache largest value
          jQuery('#quote-carousel#activityid#  .item').each(function() {
              jQuery(this).css('min-height',tallest + 'px');
          });
      }
      normalizeHeights();
  }
</script>
<style>
#quote-carousel#activityid# .carousel-indicators > li {
  height:15px;
  opacity:0.5;
  text-indent:0px!important;
  width:unset!important;
}
#quote-carousel#activityid# .carousel-indicators > li.active {
  opacity:1;
}
#quote-carousel#activityid# .carousel-indicators > .btn {
  padding:2px!important;
}
</style>
</div>
